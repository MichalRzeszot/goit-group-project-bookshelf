{"mappings":"ACAA,SAAS,gBAAgB,CAAC,mBAAoB,WAE5C,IAAM,EAAmB,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,kBAAoB,EAAE,CACzE,EAAwB,SAAS,cAAc,CAAC,iBAChD,EAAoB,SAAS,gBAAgB,CAAC,sBAEhD,EAAc,EAMlB,SAAS,EAAa,CAAI,EACxB,EAAsB,SAAS,CAAG,GAElC,IAAM,EAAa,AAAC,CAAA,EAAO,CAAA,EAVR,EAcnB,AAFuB,EAAiB,KAAK,CAAC,EAD7B,EAXE,GAcJ,OAAO,CAAC,AAAA,IACrB,IAAM,EAAW,AAqGrB,SAAwB,CAAI,EAC1B,IAAM,EAAO,SAAS,aAAa,CAAC,OAiCpC,OAhCA,EAAK,SAAS,CAAC,GAAG,CAAC,uBAGnB,EAAK,SAAS,CAAG,CAAC;;sCAEgB,EAAE,EAAK,UAAU,CAAC,OAAO,EAAE,EAAK,KAAK,CAAC;;;;;;0CAMlC,EAAE,EAAK,KAAK,CAAC;6CACV,EAAE,EAAK,SAAS,CAAC;;;mFAGqB,EAAE,EAAK,GAAG,CAAC;;;;;;oCAM1D,EAAE,EAAK,WAAW,CAAC;;mCAEpB,EAAE,EAAK,MAAM,CAAC;;;yBAGxB,EAAE,EAAK,SAAS,CAAC,EAAE,CAAC,GAAG,CAAC;;;;YAIrC,CAAC,CAEF,CACT,EAxIoC,GAChC,EAAsB,WAAW,CAAC,EACpC,EACF,CAqEA,SAAS,EAAyB,CAAa,EAC7C,EAAkB,OAAO,CAAC,AAAA,IACxB,EAAO,KAAK,CAAC,OAAO,CAAG,EAAgB,eAAiB,MAC1D,EACF,CAEI,AAA4B,IAA5B,EAAiB,MAAM,EACzB,EAAsB,SAAS,CAC7B,uFACF,EAAyB,CAAA,KAEzB,EAAyB,CAAA,GACzB,EAAa,GACb,AAhFF,WACE,IAAM,EAAsB,SAAS,cAAc,CAAC,QACpD,CAAA,EAAoB,SAAS,CAAG,GAlBhC,WAAa,KAAK,IAAI,CAAC,EAAiB,MAAM,CAJ3B,GA0BnB,IAAK,IAAI,EAAI,EAAG,GAAK,WAAY,IAAK,CACpC,IAAM,EAAa,SAAS,aAAa,CAAC,SAC1C,CAAA,EAAW,SAAS,CAAG,EACvB,EAAW,SAAS,CAAC,GAAG,CAAC,eACzB,EAAW,gBAAgB,CAAC,QAAS,WAEnC,EADA,EAAc,GAEd,GACF,GACA,EAAoB,WAAW,CAAC,EAClC,CAkCA,SAAS,IAGP,AAFgB,SAAS,gBAAgB,CAAC,gBAElC,OAAO,CAAC,CAAC,EAAQ,KACnB,EAAQ,IAAM,GAChB,EAAO,KAAK,CAAC,eAAe,CAAG,eAC/B,EAAO,KAAK,CAAC,KAAK,CAAG,iBAErB,EAAO,KAAK,CAAC,eAAe,CAAG,GAC/B,EAAO,KAAK,CAAC,KAAK,CAAG,GAEzB,EACF,CA3CA,AADqB,SAAS,cAAc,CAAC,cAChC,gBAAgB,CAAC,QAAS,WAErC,EADA,EAAc,GAEd,GACF,GAGA,AADoB,SAAS,cAAc,CAAC,aAChC,gBAAgB,CAAC,QAAS,WAEpC,EADA,EAAc,YAEd,GACF,GAGA,AADoB,SAAS,cAAc,CAAC,iBAChC,gBAAgB,CAAC,QAAS,WAChC,EAAc,IAEhB,IAAa,GACb,IAEJ,GAGA,AADoB,SAAS,cAAc,CAAC,aAChC,gBAAgB,CAAC,QAAS,WAChC,EAAc,aAEhB,IAAa,GACb,IAEJ,GAgBA,GACF,KA2EA,SAAS,sBAAsB,CAAG,SAAU,CAAM,EAEhD,IAAM,EAAsB,EAAiB,MAAM,CAAC,AAAA,GAAQ,EAAK,GAAG,GAAK,GAGzE,aAAa,OAAO,CAAC,eAAgB,KAAK,SAAS,CAAC,IAEpD,SAAS,MAAM,EACjB,CACF","sources":["<anon>","src/js/shopping-list.mjs"],"sourcesContent":["var $c09ccec0d70cbb24$exports = {};\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n    // Sprawdzam, czy localStorage zawiera dane o książkach w koszyku lub zwracam pustą tablicę, jeśli w local storage nic nie ma\n    const shoppingListData = JSON.parse(localStorage.getItem(\"shoppingList\")) || [];\n    const shoppingListContainer = document.getElementById(\"shopping-list\");\n    const navigationButtons = document.querySelectorAll(\".navigation-button\");\n    const itemsPerPage = 3;\n    let currentPage = 1;\n    function updateTotalPages() {\n        totalPages = Math.ceil(shoppingListData.length / itemsPerPage);\n    }\n    function displayBooks(page) {\n        shoppingListContainer.innerHTML = \"\"; // Clear previous content\n        const startIndex = (page - 1) * itemsPerPage;\n        const endIndex = startIndex + itemsPerPage;\n        const booksToDisplay = shoppingListData.slice(startIndex, endIndex);\n        booksToDisplay.forEach((book)=>{\n            const bookCard = createBookCard(book);\n            shoppingListContainer.appendChild(bookCard);\n        });\n    }\n    function createPagination() {\n        const paginationContainer = document.getElementById(\"pages\");\n        paginationContainer.innerHTML = \"\";\n        updateTotalPages();\n        for(let i = 1; i <= totalPages; i++){\n            const pageButton = document.createElement(\"button\");\n            pageButton.innerText = i;\n            pageButton.classList.add(\"page-button\");\n            pageButton.addEventListener(\"click\", function() {\n                currentPage = i;\n                displayBooks(currentPage);\n                updateButtonStyles();\n            });\n            paginationContainer.appendChild(pageButton);\n        }\n        const firstPageBtn = document.getElementById(\"first-page\");\n        firstPageBtn.addEventListener(\"click\", function() {\n            currentPage = 1;\n            displayBooks(currentPage);\n            updateButtonStyles();\n        });\n        const lastPageBtn = document.getElementById(\"last-page\");\n        lastPageBtn.addEventListener(\"click\", function() {\n            currentPage = totalPages;\n            displayBooks(currentPage);\n            updateButtonStyles();\n        });\n        const prevPageBtn = document.getElementById(\"previous-page\");\n        prevPageBtn.addEventListener(\"click\", function() {\n            if (currentPage > 1) {\n                currentPage--;\n                displayBooks(currentPage);\n                updateButtonStyles();\n            }\n        });\n        const nextPageBtn = document.getElementById(\"next-page\");\n        nextPageBtn.addEventListener(\"click\", function() {\n            if (currentPage < totalPages) {\n                currentPage++;\n                displayBooks(currentPage);\n                updateButtonStyles();\n            }\n        });\n        function updateButtonStyles() {\n            const buttons = document.querySelectorAll(\".page-button\");\n            buttons.forEach((button, index)=>{\n                if (index + 1 === currentPage) {\n                    button.style.backgroundColor = \"var(--black)\";\n                    button.style.color = \"var(--white)\";\n                } else {\n                    button.style.backgroundColor = \"\";\n                    button.style.color = \"\";\n                }\n            });\n        }\n        updateButtonStyles();\n    }\n    function displayNavigationButtons(shouldDisplay) {\n        navigationButtons.forEach((button)=>{\n            button.style.display = shouldDisplay ? \"inline-block\" : \"none\";\n        });\n    }\n    if (shoppingListData.length === 0) {\n        shoppingListContainer.innerHTML = '<p class=\"sl-paragraph\">This page is empty, add some books and proceed to order.</p>';\n        displayNavigationButtons(false);\n    } else {\n        displayNavigationButtons(true);\n        displayBooks(currentPage);\n        createPagination();\n    }\n    // if (shoppingListData.length === 0) {\n    //   // Wyświetlam komunikat w przypadku, jeśli koszyk jest pusty\n    //   shoppingListContainer.innerHTML =\n    //     '<p class=\"sl-paragraph\">This page is empty, add some books and proceed to order.</p>';\n    // } else {\n    //   // Wyświetlam każdą książkę z koszyka\n    //   shoppingListData.forEach(book => {\n    //     const bookCard = createBookCard(book);\n    //     shoppingListContainer.appendChild(bookCard);\n    //   });\n    // }\n    // Tworzę kartę dla książki w koszyku\n    function createBookCard(book) {\n        const card = document.createElement(\"div\");\n        card.classList.add(\"book-card-container\");\n        // Dodaję wymagane informacje o książce\n        card.innerHTML = `\n        <div class=\"image-container\">\n         <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title} Cover\"/>\n        </div>\n\n      <div class=\"text-container\">\n          <div class=\"book-card-header\">\n              <div class=\"card-title-container\">\n                    <p class=\"book-title\">${book.title}</p>\n                    <p class=\"book-category\">${book.list_name}</p>\n              </div>\n             <div>\n                    <button class=\"remove-button\" onclick=\"removeFromShoppingList('${book._id}')\">\n                    <svg class=\"remove-button-item\"><use href=\"./images/icons.svg#icon-trash-03\"></use></svg>\n                    </button>\n              </div>\n          </div>\n\n        <p class=\"book-description\">${book.description}</p>\n\n          <div class=\"book-author\">${book.author}</div>\n          \n          <div class=\"purchase-links\">\n                <a href=\"${book.buy_links[0].url}\">\n                    LINK\n                </a>\n          </div> \n      </div>`;\n        return card;\n    }\n    function removeFromShoppingList(bookId) {\n        const updatedShoppingList = shoppingListData.filter((book)=>book._id !== bookId);\n        localStorage.setItem(\"shoppingList\", JSON.stringify(updatedShoppingList));\n        location.reload();\n    }\n    //funkcja do usuwania książki z koszyka\n    document.removeFromShoppingList = function(bookId) {\n        //Funkcja filter() zwraca nową tablicę, która zawiera odfiltrowane elementy\n        const updatedShoppingList = shoppingListData.filter((book)=>book._id !== bookId);\n        //Zapisuję zaktualizowaną listę zakupów do localStorage pod kluczem \"shoppingList\"\n        localStorage.setItem(\"shoppingList\", JSON.stringify(updatedShoppingList));\n        // Przeładuj stronę, aby odświeżyć listę. Bez tego kroku użytkownik musiałby samodzielnie odświeżyć stronę, żeby zobaczyć zmiany.\n        location.reload();\n    };\n});\n\n\n//# sourceMappingURL=index.6345fe25.js.map\n","document.addEventListener('DOMContentLoaded', function () {\n  // Sprawdzam, czy localStorage zawiera dane o książkach w koszyku lub zwracam pustą tablicę, jeśli w local storage nic nie ma\n  const shoppingListData = JSON.parse(localStorage.getItem('shoppingList')) || [];\n  const shoppingListContainer = document.getElementById('shopping-list');\n  const navigationButtons = document.querySelectorAll('.navigation-button');\n  const itemsPerPage = 3;\n  let currentPage = 1;\n\n  function updateTotalPages() {\n    totalPages = Math.ceil(shoppingListData.length / itemsPerPage);\n  }\n\n  function displayBooks(page) {\n    shoppingListContainer.innerHTML = ''; // Clear previous content\n\n    const startIndex = (page - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n    const booksToDisplay = shoppingListData.slice(startIndex, endIndex);\n\n    booksToDisplay.forEach(book => {\n      const bookCard = createBookCard(book);\n      shoppingListContainer.appendChild(bookCard);\n    });\n  }\n\n  function createPagination() {\n    const paginationContainer = document.getElementById('pages');\n    paginationContainer.innerHTML = '';\n\n    updateTotalPages();\n\n    for (let i = 1; i <= totalPages; i++) {\n      const pageButton = document.createElement('button');\n      pageButton.innerText = i;\n      pageButton.classList.add('page-button');\n      pageButton.addEventListener('click', function () {\n        currentPage = i;\n        displayBooks(currentPage);\n        updateButtonStyles();\n      });\n      paginationContainer.appendChild(pageButton);\n    }\n\n    const firstPageBtn = document.getElementById('first-page');\n    firstPageBtn.addEventListener('click', function () {\n      currentPage = 1;\n      displayBooks(currentPage);\n      updateButtonStyles();\n    });\n\n    const lastPageBtn = document.getElementById('last-page');\n    lastPageBtn.addEventListener('click', function () {\n      currentPage = totalPages;\n      displayBooks(currentPage);\n      updateButtonStyles();\n    });\n\n    const prevPageBtn = document.getElementById('previous-page');\n    prevPageBtn.addEventListener('click', function () {\n      if (currentPage > 1) {\n        currentPage--;\n        displayBooks(currentPage);\n        updateButtonStyles();\n      }\n    });\n\n    const nextPageBtn = document.getElementById('next-page');\n    nextPageBtn.addEventListener('click', function () {\n      if (currentPage < totalPages) {\n        currentPage++;\n        displayBooks(currentPage);\n        updateButtonStyles();\n      }\n    });\n\n    function updateButtonStyles() {\n      const buttons = document.querySelectorAll('.page-button');\n\n      buttons.forEach((button, index) => {\n        if (index + 1 === currentPage) {\n          button.style.backgroundColor = 'var(--black)';\n          button.style.color = 'var(--white)';\n        } else {\n          button.style.backgroundColor = '';\n          button.style.color = '';\n        }\n      });\n    }\n\n    updateButtonStyles();\n  }\n\n  function displayNavigationButtons(shouldDisplay) {\n    navigationButtons.forEach(button => {\n      button.style.display = shouldDisplay ? 'inline-block' : 'none';\n    });\n  }\n\n  if (shoppingListData.length === 0) {\n    shoppingListContainer.innerHTML =\n      '<p class=\"sl-paragraph\">This page is empty, add some books and proceed to order.</p>';\n    displayNavigationButtons(false);\n  } else {\n    displayNavigationButtons(true);\n    displayBooks(currentPage);\n    createPagination();\n  }\n\n  // if (shoppingListData.length === 0) {\n  //   // Wyświetlam komunikat w przypadku, jeśli koszyk jest pusty\n  //   shoppingListContainer.innerHTML =\n  //     '<p class=\"sl-paragraph\">This page is empty, add some books and proceed to order.</p>';\n  // } else {\n  //   // Wyświetlam każdą książkę z koszyka\n  //   shoppingListData.forEach(book => {\n  //     const bookCard = createBookCard(book);\n  //     shoppingListContainer.appendChild(bookCard);\n  //   });\n  // }\n\n  // Tworzę kartę dla książki w koszyku\n  function createBookCard(book) {\n    const card = document.createElement('div');\n    card.classList.add('book-card-container');\n\n    // Dodaję wymagane informacje o książce\n    card.innerHTML = `\n        <div class=\"image-container\">\n         <img class=\"book-image\" src=\"${book.book_image}\" alt=\"${book.title} Cover\"/>\n        </div>\n\n      <div class=\"text-container\">\n          <div class=\"book-card-header\">\n              <div class=\"card-title-container\">\n                    <p class=\"book-title\">${book.title}</p>\n                    <p class=\"book-category\">${book.list_name}</p>\n              </div>\n             <div>\n                    <button class=\"remove-button\" onclick=\"removeFromShoppingList('${book._id}')\">\n                    <svg class=\"remove-button-item\"><use href=\"./images/icons.svg#icon-trash-03\"></use></svg>\n                    </button>\n              </div>\n          </div>\n\n        <p class=\"book-description\">${book.description}</p>\n\n          <div class=\"book-author\">${book.author}</div>\n          \n          <div class=\"purchase-links\">\n                <a href=\"${book.buy_links[0].url}\">\n                    LINK\n                </a>\n          </div> \n      </div>`;\n\n    return card;\n  }\n\n  function removeFromShoppingList(bookId) {\n    const updatedShoppingList = shoppingListData.filter(book => book._id !== bookId);\n    localStorage.setItem('shoppingList', JSON.stringify(updatedShoppingList));\n    location.reload();\n  }\n\n  //funkcja do usuwania książki z koszyka\n  document.removeFromShoppingList = function (bookId) {\n    //Funkcja filter() zwraca nową tablicę, która zawiera odfiltrowane elementy\n    const updatedShoppingList = shoppingListData.filter(book => book._id !== bookId);\n\n    //Zapisuję zaktualizowaną listę zakupów do localStorage pod kluczem \"shoppingList\"\n    localStorage.setItem('shoppingList', JSON.stringify(updatedShoppingList));\n    // Przeładuj stronę, aby odświeżyć listę. Bez tego kroku użytkownik musiałby samodzielnie odświeżyć stronę, żeby zobaczyć zmiany.\n    location.reload();\n  };\n});\n"],"names":["document","addEventListener","shoppingListData","JSON","parse","localStorage","getItem","shoppingListContainer","getElementById","navigationButtons","querySelectorAll","currentPage","displayBooks","page","innerHTML","startIndex","booksToDisplay","slice","forEach","book","bookCard","createBookCard","card","createElement","classList","add","book_image","title","list_name","_id","description","author","buy_links","url","appendChild","displayNavigationButtons","shouldDisplay","button","style","display","length","createPagination","paginationContainer","totalPages","Math","ceil","i","pageButton","innerText","updateButtonStyles","buttons","index","backgroundColor","color","firstPageBtn","lastPageBtn","prevPageBtn","nextPageBtn","removeFromShoppingList","bookId","updatedShoppingList","filter","setItem","stringify","location","reload"],"version":3,"file":"index.6345fe25.js.map"}