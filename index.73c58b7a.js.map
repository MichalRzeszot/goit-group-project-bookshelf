{"mappings":"ACAA,MAAM,EAAiB,SAAS,aAAa,CAAC,cACxC,EAAiB,SAAS,aAAa,CAAC,iBACxC,EAAW,SAAS,aAAa,CAAC,iBAIxC,eAAe,EAAW,EAAW,WAAW,MA0BxB,EAuBK,EA/C3B,GAAI,AAAa,mBAAb,GAAiC,AAAa,cAAb,EACnC,GAAI,KAyBF,EAxBA,IAAM,EAAW,MAAM,MAAM,uDAsBX,EArBJ,MAAM,EAAS,IAAI,GAuBjC,EAAe,GACnB,AAFe,EAEN,OAAO,CAAC,AAAA,IACf,GAAgB,CAAC,4BAA4B,EAAE,EAAa,SAAS,CAAC,8BAA8B,CAAC,CACrG,EAAa,KAAK,CAAC,OAAO,CAAC,AAAA,IACzB,GAAgB,CAAC,0CAA0C,EAAE,EAAK,GAAG,CAAC;;gBAE5D,EAAE,EAAK,UAAU,CAAC,OAAO,EAAE,EAAK,KAAK,CAAC;;;;;+BAKvB,EAAE,EAAK,KAAK,CAAC;gCACZ,EAAE,EAAK,MAAM,CAAC;WACnC,CAAC,AACR,GACA,GAAgB,CAAC,iBAAiB,EAAE,EAAa,SAAS,CAAC,0CAA0C,CAAC,AACxG,GACA,EAAS,SAAS,CAAG,CAtCnB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,wBAAyB,EACzC,MAEA,GAAI,KAwCF,EAvCA,IAAM,EAAW,MAAM,MACrB,CAAC,4DAA4D,EAZlD,EAY+D,CAAC,EAoCtD,EAlCT,MAAM,EAAS,IAAI,GAoCjC,EAAe,6BACnB,AAFe,EAEN,OAAO,CAAC,AAAA,IACf,GAAgB,CAAC,6BAA6B,EAAE,EAAK,GAAG,CAAC;;gBAE7C,EAAE,EAAK,UAAU,CAAC,OAAO,EAAE,EAAK,KAAK,CAAC;;;;;+BAKvB,EAAE,EAAK,KAAK,CAAC;gCACZ,EAAE,EAAK,MAAM,CAAC;WACnC,CAAC,AACV,GACA,GAAgB,QAChB,EAAS,SAAS,CAAG,CAhDnB,CAAE,MAAO,EAAO,CACd,QAAQ,KAAK,CAAC,wBAAyB,EACzC,CAEJ,CA+DA,SAAS,EAAa,CAAY,EACX,mBAAjB,GACF,CAAA,EAAe,oBADjB,EAGA,IAAM,EAAY,EAAa,KAAK,CAAC,KAC/B,EAAW,EAAU,GAAG,GACxB,EAAS,EAAU,IAAI,CAAC,IAC9B,CAAA,EAAe,SAAS,CAAG,CAAC,EAAE,EAAO,uBAAuB,EAAE,EAAS,QAAQ,CAAC,AAClF,CA9FA,EAAe,SAAS,CAAG,kDAyB3B,IA8CA,EAAS,gBAAgB,CAAC,QAAS,AAAA,IACN,WAAvB,EAAG,MAAM,CAAC,QAAQ,GAGtB,EAAa,EAAG,MAAM,CAAC,EAAE,EACzB,EAAW,EAAG,MAAM,CAAC,EAAE,EACzB,GAGA,EAAe,gBAAgB,CAAC,QAAS,AAAA,IACvC,EAAa,EAAG,MAAM,CAAC,WAAW,EAClC,EAAW,EAAG,MAAM,CAAC,WAAW,CAClC","sources":["<anon>","src/js/book-list.mjs"],"sourcesContent":["const bookListHeader = document.querySelector(\".bl-header\");\nconst blPlaceForList = document.querySelector(\".all-category\");\nconst bookList = document.querySelector(\".bl-container\");\nbookListHeader.innerHTML = 'Best Sellers <span class=\"bl-span\">Books</span>';\nasync function booksFetch(category = \"top-books\") {\n    let categoryId = category;\n    if (category === \"All Categories\" || category === \"top-books\") try {\n        const response = await fetch(\"https://books-backend.p.goit.global/books/top-books\");\n        const books = await response.json();\n        allBooksRender(books);\n    } catch (error) {\n        console.error(\"Error fetching books:\", error);\n    }\n    else try {\n        const response = await fetch(`https://books-backend.p.goit.global/books/category?category=${categoryId}`);\n        const books = await response.json();\n        categoryBooksRender(books);\n    } catch (error) {\n        console.error(\"Error fetching books:\", error);\n    }\n}\nbooksFetch();\n//funkcja wyświetlająca wszystkie książki\nfunction allBooksRender(books) {\n    let booksArr = books;\n    let bookListHtml = \"\";\n    booksArr.forEach((bookCategory)=>{\n        bookListHtml += `<p class=\"bl-book-category\">${bookCategory.list_name}</p><ul class=\"bl-books-list\">`;\n        bookCategory.books.forEach((book)=>{\n            bookListHtml += `<li class=\"bl-book-card bl-all-books\" id=\"${book._id}\">\n      <div class=\"bl-book-image\">\n      <img src=\"${book.book_image}\" alt=\"${book.title}\"/>\n      <div class=\"bl-book-card-overlay\">\n      <p>QUICK VIEW</p>\n      </div>\n      </div>\n      <p class=\"bl-book-title\">${book.title}</p>\n      <p class=\"bl-book-author\">${book.author}</p>\n      </li>`;\n        });\n        bookListHtml += `</ul><button id=\"${bookCategory.list_name}\"class=\"bl-see-more-btn\">SEE MORE</button>`;\n    });\n    bookList.innerHTML = bookListHtml;\n}\n//funkcja wyświetlająca wszystkie książki z danej kategorii\nfunction categoryBooksRender(books) {\n    let booksArr = books;\n    let bookListHtml = '<ul class=\"bl-books-list\">';\n    booksArr.forEach((book)=>{\n        bookListHtml += `<li class=\"bl-book-card\" id=\"${book._id}\">\n      <div class=\"bl-book-image\">\n      <img src=\"${book.book_image}\" alt=\"${book.title}\"/>\n      <div class=\"bl-book-card-overlay\">\n      <p>QUICK VIEW</p>\n      </div>\n      </div>\n      <p class=\"bl-book-title\">${book.title}</p>\n      <p class=\"bl-book-author\">${book.author}</p>\n      </li>`;\n    });\n    bookListHtml += \"</ul>\";\n    bookList.innerHTML = bookListHtml;\n}\n//funkcja przekazująca kategorię ksiązek z buttona do funkcji pobierającej listę książek\nbookList.addEventListener(\"click\", (ev)=>{\n    if (ev.target.nodeName !== \"BUTTON\") return;\n    headerRender(ev.target.id);\n    booksFetch(ev.target.id);\n});\n//funkcja przekazująca kategorię ksiązek z menu do funkcji pobierającej listę książek\nblPlaceForList.addEventListener(\"click\", (ev)=>{\n    headerRender(ev.target.textContent);\n    booksFetch(ev.target.textContent);\n});\n//funkcja renderująca tytuł kategorii\nfunction headerRender(categoryName) {\n    if (categoryName === \"All Categories\") categoryName = \"Best Sellers Books\";\n    const headerArr = categoryName.split(\" \");\n    const lastWord = headerArr.pop();\n    const header = headerArr.join(\" \");\n    bookListHeader.innerHTML = `${header} <span class=\"bl-span\">${lastWord} </span>`;\n}\n\n//# sourceMappingURL=index.73c58b7a.js.map\n","const bookListHeader = document.querySelector('.bl-header');\nconst blPlaceForList = document.querySelector('.all-category');\nconst bookList = document.querySelector('.bl-container');\n\nbookListHeader.innerHTML = 'Best Sellers <span class=\"bl-span\">Books</span>';\n\nasync function booksFetch(category = 'top-books') {\n  let categoryId = category;\n  if (category === 'All Categories' || category === 'top-books') {\n    try {\n      const response = await fetch('https://books-backend.p.goit.global/books/top-books');\n      const books = await response.json();\n      allBooksRender(books);\n    } catch (error) {\n      console.error('Error fetching books:', error);\n    }\n  } else {\n    try {\n      const response = await fetch(\n        `https://books-backend.p.goit.global/books/category?category=${categoryId}`,\n      );\n      const books = await response.json();\n      categoryBooksRender(books);\n    } catch (error) {\n      console.error('Error fetching books:', error);\n    }\n  }\n}\n\nbooksFetch();\n\n//funkcja wyświetlająca wszystkie książki\nfunction allBooksRender(books) {\n  let booksArr = books;\n  let bookListHtml = '';\n  booksArr.forEach(bookCategory => {\n    bookListHtml += `<p class=\"bl-book-category\">${bookCategory.list_name}</p><ul class=\"bl-books-list\">`;\n    bookCategory.books.forEach(book => {\n      bookListHtml += `<li class=\"bl-book-card bl-all-books\" id=\"${book._id}\">\n      <div class=\"bl-book-image\">\n      <img src=\"${book.book_image}\" alt=\"${book.title}\"/>\n      <div class=\"bl-book-card-overlay\">\n      <p>QUICK VIEW</p>\n      </div>\n      </div>\n      <p class=\"bl-book-title\">${book.title}</p>\n      <p class=\"bl-book-author\">${book.author}</p>\n      </li>`;\n    });\n    bookListHtml += `</ul><button id=\"${bookCategory.list_name}\"class=\"bl-see-more-btn\">SEE MORE</button>`;\n  });\n  bookList.innerHTML = bookListHtml;\n}\n\n//funkcja wyświetlająca wszystkie książki z danej kategorii\nfunction categoryBooksRender(books) {\n  let booksArr = books;\n  let bookListHtml = '<ul class=\"bl-books-list\">';\n  booksArr.forEach(book => {\n    bookListHtml += `<li class=\"bl-book-card\" id=\"${book._id}\">\n      <div class=\"bl-book-image\">\n      <img src=\"${book.book_image}\" alt=\"${book.title}\"/>\n      <div class=\"bl-book-card-overlay\">\n      <p>QUICK VIEW</p>\n      </div>\n      </div>\n      <p class=\"bl-book-title\">${book.title}</p>\n      <p class=\"bl-book-author\">${book.author}</p>\n      </li>`;\n  });\n  bookListHtml += '</ul>';\n  bookList.innerHTML = bookListHtml;\n}\n\n//funkcja przekazująca kategorię ksiązek z buttona do funkcji pobierającej listę książek\nbookList.addEventListener('click', ev => {\n  if (ev.target.nodeName !== 'BUTTON') {\n    return;\n  }\n  headerRender(ev.target.id);\n  booksFetch(ev.target.id);\n});\n\n//funkcja przekazująca kategorię ksiązek z menu do funkcji pobierającej listę książek\nblPlaceForList.addEventListener('click', ev => {\n  headerRender(ev.target.textContent);\n  booksFetch(ev.target.textContent);\n});\n\n//funkcja renderująca tytuł kategorii\nfunction headerRender(categoryName) {\n  if (categoryName === 'All Categories') {\n    categoryName = 'Best Sellers Books';\n  }\n  const headerArr = categoryName.split(' ');\n  const lastWord = headerArr.pop();\n  const header = headerArr.join(' ');\n  bookListHeader.innerHTML = `${header} <span class=\"bl-span\">${lastWord} </span>`;\n}\n"],"names":["bookListHeader","document","querySelector","blPlaceForList","bookList","booksFetch","category","books","bookListHtml","response","fetch","json","booksArr","forEach","bookCategory","list_name","book","_id","book_image","title","author","innerHTML","error","console","headerRender","categoryName","headerArr","split","lastWord","pop","header","join","addEventListener","ev","target","nodeName","id","textContent"],"version":3,"file":"index.73c58b7a.js.map"}